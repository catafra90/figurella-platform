{% extends "base.html" %}
{% block content %}
  <!-- add a header bar with title + history link -->
  <div class="max-w-4xl mx-auto py-8 flex items-center justify-between">
    <h1 class="text-3xl font-bold text-figurella-pink">Daily Report</h1>
    <a href="{{ url_for('daily_report.history') }}"
       class="flex items-center space-x-1 text-figurella-pink hover:text-figurella-pink-dark">
      <img src="{{ url_for('static', filename='images/history-icon.svg') }}"
           alt="History" class="h-6 w-6"/>
      <span class="underline font-medium">History</span>
    </a>
  </div>

  <form id="daily-report-form"
        method="POST"
        action="{{ url_for('daily_report.combined_report_wizard') }}">
    <div class="max-w-4xl mx-auto space-y-8">

      <!-- Sales Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Sales</h2>
        <div class="space-y-4" data-items-container="sales">
          <div class="p-4 bg-white rounded-xl shadow flex flex-col space-y-3">
            <input name="client_name[]" type="text" placeholder="Client Name"
                   class="border border-gray-300 rounded px-3 py-2"/>
            <input name="package[]" type="text" placeholder="Package"
                   class="border border-gray-300 rounded px-3 py-2"/>
            <input name="revenue[]" type="number" step="0.01" placeholder="Revenue"
                   class="border border-gray-300 rounded px-3 py-2"/>
          </div>
        </div>
        <button type="button" data-add-button="sales"
                class="w-full text-figurella-pink border border-figurella-pink rounded-full py-2">
          + Add
        </button>
      </div>

      <!-- Leads Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Leads</h2>
        <div class="space-y-4" data-items-container="leads">
          <div class="p-4 bg-white rounded-xl shadow flex flex-col space-y-3">
            <input name="lead_name[]" type="text" placeholder="Lead Name"
                   class="border border-gray-300 rounded px-3 py-2"/>
            <input name="lead_date[]" type="date" placeholder="Date"
                   class="border border-gray-300 rounded px-3 py-2"/>
            <input name="lead_source[]" type="text" placeholder="Source"
                   class="border border-gray-300 rounded px-3 py-2"/>
          </div>
        </div>
        <button type="button" data-add-button="leads"
                class="w-full text-figurella-pink border border-figurella-pink rounded-full py-2">
          + Add
        </button>
      </div>

      <!-- Consultations Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Consultations</h2>
        <div class="space-y-4" data-items-container="consultations">
          <div class="p-4 bg-white rounded-xl shadow flex flex-col space-y-3">
            <input name="consultation_name[]" type="text" placeholder="Consultation Name"
                   class="border border-gray-300 rounded px-3 py-2"/>
            <input name="consultation_outcome[]" type="text" placeholder="Outcome"
                   class="border border-gray-300 rounded px-3 py-2"/>
            <input name="consultation_source[]" type="text" placeholder="Source"
                   class="border border-gray-300 rounded px-3 py-2"/>
          </div>
        </div>
        <button type="button" data-add-button="consultations"
                class="w-full text-figurella-pink border border-figurella-pink rounded-full py-2">
          + Add
        </button>
      </div>

      <!-- Opportunities Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Opportunities</h2>
        <div class="space-y-4" data-items-container="opportunities">
          <div class="p-4 bg-white rounded-xl shadow flex flex-col space-y-3">
            <input name="opportunity_name[]" type="text" placeholder="Opportunity Name"
                   class="border border-gray-300 rounded px-3 py-2"/>
            <input name="opportunity_provider[]" type="text" placeholder="Provider"
                   class="border border-gray-300 rounded px-3 py-2"/>
            <textarea name="opportunity_description[]" rows="2" placeholder="Description"
                      class="border border-gray-300 rounded px-3 py-2"></textarea>
          </div>
        </div>
        <button type="button" data-add-button="opportunities"
                class="w-full text-figurella-pink border border-figurella-pink rounded-full py-2">
          + Add
        </button>
      </div>

      <!-- Attendance Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Attendance</h2>
        <div class="p-4 bg-white rounded-xl shadow flex flex-col space-y-3">
          <input name="attendance_done" type="number" placeholder="Attended"
                 class="border border-gray-300 rounded px-3 py-2"/>
          <input name="attendance_noshow" type="number" placeholder="No-Shows"
                 class="border border-gray-300 rounded px-3 py-2"/>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="pt-4">
        <button id="submit-report" type="submit"
                class="bg-figurella py-3 px-6 rounded-full text-white w-full">
          Submit Report
        </button>
      </div>

    </div>
  </form>
{% endblock %}
