{% extends "base.html" %}
{% block content %}
<div class="max-w-4xl mx-auto py-8 space-y-6">

  <!-- Show server-side errors, if any -->
  {% if error_message %}
    <div class="bg-red-100 text-red-800 p-4 rounded">
      <strong>Error:</strong> {{ error_message }}
    </div>
  {% endif %}

  <form id="daily-report-form" method="POST"
        action="{{ url_for('daily_report.combined_report_wizard') }}">
    <div class="space-y-8">

      <!-- Sales Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Sales</h2>
        <div data-items-container="sales" class="space-y-4">
          <div class="p-4 bg-white rounded-xl shadow space-y-3">
            <input name="client_name[]" type="text" placeholder="Client Name"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
            <input name="package[]" type="text" placeholder="Package"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
            <input name="revenue[]" type="number" step="0.01" placeholder="Revenue"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
          </div>
        </div>
        <button type="button" data-add-button="sales"
                class="w-full text-figurella-pink border border-figurella-pink rounded-full py-2">
          + Add
        </button>
      </div>

      <!-- Leads Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Leads</h2>
        <div data-items-container="leads" class="space-y-4">
          <div class="p-4 bg-white rounded-xl shadow space-y-3">
            <input name="lead_name[]" type="text" placeholder="Lead Name"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
            <input name="lead_date[]" type="date" placeholder="Date"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
            <input name="lead_source[]" type="text" placeholder="Source"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
          </div>
        </div>
        <button type="button" data-add-button="leads"
                class="w-full text-figurella-pink border border-figurella-pink rounded-full py-2">
          + Add
        </button>
      </div>

      <!-- Consultations Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Consultations</h2>
        <div data-items-container="consultations" class="space-y-4">
          <div class="p-4 bg-white rounded-xl shadow space-y-3">
            <input name="consultation_name[]" type="text" placeholder="Consultation Name"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
            <input name="consultation_outcome[]" type="text" placeholder="Outcome"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
            <input name="consultation_source[]" type="text" placeholder="Source"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
          </div>
        </div>
        <button type="button" data-add-button="consultations"
                class="w-full text-figurella-pink border border-figurella-pink rounded-full py-2">
          + Add
        </button>
      </div>

      <!-- Opportunities Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Opportunities</h2>
        <div data-items-container="opportunities" class="space-y-4">
          <div class="p-4 bg-white rounded-xl shadow space-y-3">
            <input name="opportunity_name[]" type="text" placeholder="Opportunity Name"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
            <input name="opportunity_provider[]" type="text" placeholder="Provider"
                   class="border border-gray-300 rounded px-3 py-2 w-full"/>
            <textarea name="opportunity_description[]" rows="2" placeholder="Description"
                      class="border border-gray-300 rounded px-3 py-2 w-full"></textarea>
          </div>
        </div>
        <button type="button" data-add-button="opportunities"
                class="w-full text-figurella-pink border border-figurella-pink rounded-full py-2">
          + Add
        </button>
      </div>

      <!-- Attendance Section -->
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold text-figurella-pink">Attendance</h2>
        <div class="p-4 bg-white rounded-xl shadow space-y-3">
          <input name="attendance_done" type="number" placeholder="Attended"
                 class="border border-gray-300 rounded px-3 py-2 w-full"/>
          <input name="attendance_noshow" type="number" placeholder="No-Shows"
                 class="border border-gray-300 rounded px-3 py-2 w-full"/>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="pt-4">
        <button type="submit"
                class="bg-figurella-pink text-white rounded-full py-3 w-full">
          Submit Report
        </button>
      </div>

    </div>
  </form>
</div>
{% endblock %}
